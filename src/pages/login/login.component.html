
<div class="d-flex flex-wrap vh-100 align-items-stretch w-100">

 <!-- Lado azul com clip-path animado -->
<app-logo-side-layer class="col-12 col-md-5"></app-logo-side-layer>

  <div class="form-login-senha col-12 col-md-7 d-flex flex-column align-items-center justify-content-center">
    <div class="card p-4 bg-light border border-light rounded-4" style="width: 23rem;">
      <h4 class="text-center mb-4">Realizar login</h4>

      <form
        [formGroup]="form"
        (ngSubmit)="onSubmit()"
        novalidate
        autocomplete="off"
      >
        <!-- campo email -->
        <div class="mb-3">
          <label for="email" class="form-label">Email</label>
          <input
            id="email"
            type="email"
            formControlName="email"
            placeholder="Digite o seu email"
            required
            class="form-control"
            [class.is-invalid]="
              (form.get('email')?.invalid &&
              form.get('email')?.touched && validated)||loginInvalido 
            "
            [class.is-valid]="form.get('email')?.valid && form.get('email')?.touched && validated"
            (input)="onInputChange()"
            autocomplete="email"
          />
          <small class="text-danger" *ngIf="!loginInvalido && form.get('email')?.touched && form.get('email')?.invalid && validated">
            Insira um email válido.
          </small>
        </div>

        <!-- campo Senha -->
        <div class="mb-3">
          <label for="senha" class="form-label">Senha</label>
          <input
            id="senha"
            type="password"
            formControlName="senha"
            placeholder="Digite sua senha"
            required
            class="form-control"
            [class.is-invalid]="
              (form.get('senha')?.invalid &&
              form.get('senha')?.touched && validated)||loginInvalido
            "
            [class.is-valid]="form.get('senha')?.valid && form.get('senha')?.touched && validated"
            (input)="onInputChange()"
            autocomplete="current-password"
          />
          <small class="text-danger" *ngIf="!loginInvalido && form.get('senha')?.touched && form.get('senha')?.invalid && validated">
            Informe uma senha.
          </small>
        </div>

        <!-- mensagem de erro geral -->
        <div *ngIf="loginInvalido && form.get('senha')?.valid && form.get('senha')?.valid && validated" class="text-danger my-0 py-0">
          {{ loginInvalido }}
        </div>

        <!-- esqueceu senha criar conta e botão -->
        <div class="d-flex justify-content-between align-items-end mt-3 pt-2">
          <button type="button" (click)="goToEsqueceu()" class="btn btn-link p-0 mt-auto">
             Esqueceu a senha?
          </button>

          <button
          type="submit"
          class="btn btn-primary ms-auto"
          >
                       Entrar
          </button>

        </div>
      </form>
    </div>



    <p class="text-center mt-4">
      Ainda não possui uma conta?
       <button (click)="goToCadastro()" class="btn btn-link p-0 mt-auto">Clique aqui</button> para se cadastrar
    </p>
  </div>
</div>
